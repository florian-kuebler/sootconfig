reset_minion: true
language: java
jdk:
  - oraclejdk8

build:
  cache: true

env:
- secure: FY2OPbOGgoQSCuY/gDVmc4T6CAJJE4kaeJbVHg/bhbsQYVEtBxRDFILqy0OPbmMS10GfrCf0ZyhXjnXR0w4TXuG+Gv0nBExldDrCLvmCK8ERimHF+emgRDfJMZQw4F1AOS1NSwhrBiWhMRgMimD7Cst1QfNdKvd5KTVHs8euRvrbDcqZW67sYtAk6MnCIj7wcY19064O8Md3q8+pI2TThFiM4ETxhodmONL7NGSTEVtuMgfsg/21CWpC6C6EapyOKMufauvW9kK0a+hFUzAEAhPTwdlbtnJ2BpI3cPTnvTrpoYFq2bRW4cDFet6cu1CyhCWHMdt/HDXaQ3aERYYBBg==

branches:
  only:
    - master

before_install:
  - curl https://ssebuild.cased.de/nightly/soot/lib/soot-trunk.jar > soot-trunk.jar
  - mvn org.apache.maven.plugins:maven-install-plugin:install-file -Dfile=soot-trunk.jar -DgroupId=ca.mcgill.sable -DartifactId=soot -Dversion=trunk -Dpackaging=jar

install: true

script:
  - mvn clean deploy --settings target/travis/settings.xml

notifications:
  email:
    - hermann@informatik.tu-darmstadt.de
